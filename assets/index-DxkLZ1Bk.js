import{B as E}from"./Table-BDLRxIr-.js";import{T as G}from"./TableAction-qVACQ4CV.js";import{_ as H}from"./BasicForm-y1Blv3rt.js";import{u as O}from"./useForm-B--9Mg9o.js";import{g as W}from"./list-tIN8SGSQ.js";import{m as p,k as J,r as i,e as y,a4 as Q,P as X,a3 as l,a2 as t,K as u,j as _}from"./vue-Beri1Aun.js";import{t as Y,H as h,aj as Z,b as ee,w as oe,B as te,h as le,a5 as ne,d as ae,e as se,K as re,r as ue}from"./naive-ui-C208m6FU.js";import{u as ie}from"./vue-router-SJ7HX0Zq.js";import{u as pe}from"./vicons-antd-mqTWGFU9.js";import"./vuedraggable-CPkjE1xG.js";import"./vue-quill-BGJDKBN8.js";import"./useDesignSetting-DxpcHL4f.js";import"./index-BreLS6Ec.js";import"./pinia-BamTO2dA.js";import"./lodash-es-Wid6WkHk.js";import"./vicons-ionicons5-7CS79G9p.js";import"./propTypes-BvihHqXo.js";import"./componentSetting-DYSsJNsh.js";import"./vueuse-DBRGlnSx.js";const de={male:"男",female:"女",unknown:"未知"},me={close:"已取消",refuse:"已拒绝",pass:"已通过"},ce=[{title:"id",key:"id"},{title:"名称",key:"name"},{title:"头像",key:"avatar",render(a){return p(Y,{size:50,src:a.avatar})}},{title:"性别",key:"sex",render(a){return p(h,{type:a.sex==="male"?"info":"error"},{default:()=>de[a.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city"},{title:"状态",key:"status",render(a){return p(h,{type:a.status==="close"?"default":a.status==="refuse"?"error":"success"},{default:()=>me[a.status]})}},{title:"创建时间",key:"createDate"}],De=J({__name:"index",setup(a){const x={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},P=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],C=ie(),b=i(null),g=i(),r=i(!1),d=i(!1),s=y({name:"",address:"",date:null}),N=y({width:220,title:"操作",key:"action",fixed:"right",render(e){return p(G,{style:"button",actions:[{label:"删除",onClick:V.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:D.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:o=>{window.$message.info(`您点击了，${o} 按钮`)}})}}),[T,{getFieldsValue:R}]=O({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:P});function U(){r.value=!0}const S=async e=>await W({...R(),...e});function B(e){console.log(e)}function v(){g.value.reload()}function $(e){e.preventDefault(),d.value=!0,b.value.validate(o=>{o?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{r.value=!1,v()})),d.value=!1})}function D(e){console.log("点击了编辑",e),C.push({name:"basic-info",params:{id:e.id}})}function V(e){console.log("点击了删除",e),window.$message.info("点击了删除")}function q(e){console.log(e),v()}function I(e){console.log(e)}return(e,o)=>{const m=ee,k=oe,M=le,c=te,f=se,j=re,A=ae,F=ue,K=ne,L=Z;return X(),Q(L,{vertical:""},{default:l(()=>[t(k,{bordered:!1},{default:l(()=>[t(u(H),{onRegister:u(T),onSubmit:q,onReset:I},{statusSlot:l(({model:n,field:w})=>[t(m,{value:n[w],"onUpdate:value":z=>n[w]=z},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"])]),_:1}),t(k,{bordered:!1},{default:l(()=>[t(u(E),{columns:u(ce),request:S,"row-key":n=>n.id,ref_key:"actionRef",ref:g,actionColumn:N,"onUpdate:checkedRowKeys":B,"scroll-x":1090,striped:!0},{tableTitle:l(()=>[t(c,{type:"primary",onClick:U},{icon:l(()=>[t(M,null,{default:l(()=>[t(u(pe))]),_:1})]),default:l(()=>[o[5]||(o[5]=_(" 新建 ",-1))]),_:1})]),toolbar:l(()=>[...o[6]||(o[6]=[])]),_:1},8,["columns","row-key","actionColumn"]),t(K,{show:r.value,"onUpdate:show":o[4]||(o[4]=n=>r.value=n),"show-icon":!1,preset:"dialog",title:"新建"},{action:l(()=>[t(F,null,{default:l(()=>[t(c,{onClick:o[3]||(o[3]=()=>r.value=!1)},{default:l(()=>[...o[7]||(o[7]=[_("取消",-1)])]),_:1}),t(c,{type:"info",loading:d.value,onClick:$},{default:l(()=>[...o[8]||(o[8]=[_("确定",-1)])]),_:1},8,["loading"])]),_:1})]),default:l(()=>[t(A,{model:s,rules:x,ref_key:"formRef",ref:b,"label-placement":"left","label-width":80,class:"py-4"},{default:l(()=>[t(f,{label:"名称",path:"name"},{default:l(()=>[t(m,{placeholder:"请输入名称",value:s.name,"onUpdate:value":o[0]||(o[0]=n=>s.name=n)},null,8,["value"])]),_:1}),t(f,{label:"地址",path:"address"},{default:l(()=>[t(m,{type:"textarea",placeholder:"请输入地址",value:s.address,"onUpdate:value":o[1]||(o[1]=n=>s.address=n)},null,8,["value"])]),_:1}),t(f,{label:"日期",path:"date"},{default:l(()=>[t(j,{type:"datetime",placeholder:"请选择日期",value:s.date,"onUpdate:value":o[2]||(o[2]=n=>s.date=n)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})]),_:1})}}});export{De as default};
