import{u as N,a as q}from"./vue-router-SJ7HX0Zq.js";import{P as L,u as R,R as z,_ as E}from"./index-DKATnuc_.js";import{w as k}from"./website.config-g0Qh5wZh.js";import{P,L as j,b as B,c as O,d as U}from"./vicons-ionicons5-7CS79G9p.js";import{ah as A,e as D,b as M,h as V,g as G,B as T,d as F}from"./naive-ui-C208m6FU.js";import{k as K,o as Q,r as m,e as W,O as H,P as J,R as X,Q as s,K as i,_ as Y,a2 as a,a3 as o,j as x}from"./vue-Beri1Aun.js";import"./pinia-BamTO2dA.js";import"./lodash-es-Wid6WkHk.js";import"./vue-quill-BGJDKBN8.js";import"./vicons-antd-mqTWGFU9.js";const Z={class:"view-account"},$={class:"view-account-container animate__animated animate__fadeInDown"},ee={class:"view-account-top"},se={class:"view-account-top-logo"},ae=["src"],oe={class:"view-account-top-desc"},te={class:"view-account-form"},ne={class:"flex-between-wrapper"},ie={class:"left"},le={class:"flex view-account-other"},re={class:"social-login"},de={href:"javascript:",class:"social-icon"},ce={href:"javascript:",class:"social-icon"},ue={href:"javascript:",class:"social-icon"},ve=K({__name:"index",setup(fe){Q(()=>{setTimeout(()=>{const d=document.querySelector('input[placeholder="请输入用户名"]');d&&d.focus()},500)});const g=m(),r=A(),v=m(!1),w=m(!0),y=L.BASE_LOGIN_NAME,l=W({username:"admin",password:"123456",isCaptcha:!0}),S={username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},C=R(),h=N(),b=q(),I=d=>{d.preventDefault(),g.value.validate(async e=>{if(e)r.error("请填写完整信息，并且进行验证码校验");else{const{username:t,password:u}=l;r.loading("登录中..."),v.value=!0;const n={username:t,password:u};try{const{code:f,message:_}=await C.login(n);if(r.destroyAll(),f==z.SUCCESS){const p=decodeURIComponent(b.query?.redirect||"/");r.success("登录成功，即将进入系统"),b.name===y?h.replace("/"):h.replace(p)}else r.info(_||"登录失败")}finally{v.value=!1}}})};return(d,e)=>{const t=V,u=M,n=D,f=G,_=T,p=F;return J(),H("div",Z,[e[10]||(e[10]=X('<div class="view-account-header" data-v-f0e8a0d1></div><div class="view-account-background" data-v-f0e8a0d1><div class="line line-1" data-v-f0e8a0d1></div><div class="line line-2" data-v-f0e8a0d1></div><div class="line line-3" data-v-f0e8a0d1></div><div class="square square-1" data-v-f0e8a0d1></div><div class="square square-2" data-v-f0e8a0d1></div><div class="triangle" data-v-f0e8a0d1></div><div class="wave wave-1" data-v-f0e8a0d1></div><div class="wave wave-2" data-v-f0e8a0d1></div><div class="wave wave-3" data-v-f0e8a0d1></div></div>',2)),s("div",$,[s("div",ee,[s("div",se,[s("img",{src:i(k).loginImage,alt:""},null,8,ae)]),s("div",oe,Y(i(k).loginDesc),1)]),s("div",te,[e[8]||(e[8]=s("h2",{class:"view-account-title"},"账号登录",-1)),e[9]||(e[9]=s("div",{class:"login-welcome"},"欢迎回来，请登录您的账号",-1)),a(p,{ref_key:"formRef",ref:g,"label-placement":"left",size:"large",model:l,rules:S,class:"login-form"},{default:o(()=>[a(n,{path:"username",class:"username-item"},{default:o(()=>[a(u,{value:l.username,"onUpdate:value":e[0]||(e[0]=c=>l.username=c),placeholder:"请输入用户名",class:"login-input"},{prefix:o(()=>[a(t,{size:"18",color:"#808695"},{default:o(()=>[a(i(P))]),_:1})]),_:1},8,["value"])]),_:1}),a(n,{path:"password",class:"password-item"},{default:o(()=>[a(u,{value:l.password,"onUpdate:value":e[1]||(e[1]=c=>l.password=c),type:"password",showPasswordOn:"click",placeholder:"请输入密码",class:"login-input"},{prefix:o(()=>[a(t,{size:"18",color:"#808695"},{default:o(()=>[a(i(j))]),_:1})]),_:1},8,["value"])]),_:1}),a(n,{class:"default-color remember-forgot"},{default:o(()=>[s("div",ne,[s("div",ie,[a(f,{checked:w.value,"onUpdate:checked":e[2]||(e[2]=c=>w.value=c)},{default:o(()=>[...e[3]||(e[3]=[x("自动登录",-1)])]),_:1},8,["checked"])]),e[4]||(e[4]=s("div",{class:"right"},[s("a",{href:"javascript:",class:"forgot-link"},"忘记密码")],-1))])]),_:1}),a(n,null,{default:o(()=>[a(_,{type:"primary",onClick:I,size:"large",loading:v.value,block:"",class:"login-button"},{default:o(()=>[...e[5]||(e[5]=[x(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),a(n,{class:"default-color other-item"},{default:o(()=>[s("div",le,[e[6]||(e[6]=s("div",{class:"flex-initial other-text"},[s("span",null,"其它登录方式")],-1)),s("div",re,[s("a",de,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(B))]),_:1})]),s("a",ce,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(O))]),_:1})]),s("a",ue,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(U))]),_:1})])]),e[7]||(e[7]=s("div",{class:"flex-initial",style:{"margin-left":"auto"}},[s("a",{href:"javascript:",class:"register-link"},"注册账号")],-1))])]),_:1})]),_:1},8,["model"])])])])}}}),Se=E(ve,[["__scopeId","data-v-f0e8a0d1"]]);export{Se as default};
